{"version":3,"file":"coveoCustomTags.js","sourceRoot":"","sources":["../../../src/lib/coveo/coveoCustomTags.ts"],"names":[],"mappings":"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","sourcesContent":["import { Reflection } from \"../..\";\n\nexport interface ICoveoCustomTag {\n  name: CoveoCustomTagNames,\n  type: CoveoCustomTagTypes,\n  func: ICoveoCustomTagFunction\n}\n\nexport interface ICoveoCustomTagFunction {\n  (value: any, result?: Reflection): string\n}\n\nexport enum CoveoCustomTagNames {\n  AvailableSince = \"availableSince\",\n  Default = \"default\",\n  DependsOn = \"dependsOn\",\n  DeprecatedSince = \"deprecatedSince\",\n  // Examples = \"examples\",\n  ExternalDocs = \"externalDocs\",\n  IsResultTemplateComponent = \"isResultTemplateComponent\",\n  Maximum = \"maximum\",\n  Minimum = \"minimum\",\n  // NotSupportedIn = \"notSupportedIn\",\n  Required = \"required\"\n}\n\nexport enum CoveoCustomTagTypes {\n  Boolean = \"boolean\",\n  List = \"list\",\n  Scalar = \"scalar\"\n}\n\nexport const coveoTags: ICoveoCustomTag[] = [\n  {\n      name: CoveoCustomTagNames.AvailableSince,\n      type: CoveoCustomTagTypes.Scalar,\n      func: (releaseNotesLink: string) => {\n          if (!releaseNotesLink) {\n              return \"\";\n          }\n          return `**Available since:** ${releaseNotesLink}`;\n      }\n  },\n  {\n      name: CoveoCustomTagNames.Default,\n      type: CoveoCustomTagTypes.Scalar,\n      func: (defaultComponentOptionValue: boolean|number|string) => {\n          if (!defaultComponentOptionValue) {\n              return \"\";\n          }\n          return `**Default:** \\`${defaultComponentOptionValue.toString()}\\``;\n      }\n  },\n  {\n      name: CoveoCustomTagNames.DependsOn,\n      type: CoveoCustomTagTypes.List,\n      func: (componentOptions: string[], result: Reflection) => {\n          if (!componentOptions) {\n              return \"\";\n          }\n          let dependsOnString = \"This option is only effective when the\";\n          if (componentOptions.length === 1) {\n              // e.g., @dependsOn field => \"See also [`field`]{@link Facet.options.field}.\"\"\n              return `${dependsOnString} [\\`${componentOptions[0]}\\`]{@link ${result.parent.parent.name}.options.${componentOptions[0]}} option is set to \\`true\\`.`\n          }\n\n          dependsOnString = \"This option is only effective when the following options are set to `true`:\"\n          componentOptions.forEach((componentOption, index) => {\n              // e.g., @dependsOn field, id => See also:\\n-[`field`]{@link Facet.options.field}\\n-[`id`]{@link Facet.options.id}\n              dependsOnString += `\\n- [\\`${componentOption}\\`]{@link ${result.parent.parent.name}.options.${componentOption}}`;\n          })\n          return dependsOnString;\n      }\n  },\n  {\n      name: CoveoCustomTagNames.DeprecatedSince,\n      type: CoveoCustomTagTypes.Scalar,\n      func: (releaseNotesLink: string) => {\n          if (!releaseNotesLink) {\n              return \"\"\n          }\n          return `**Deprecated since:** ${releaseNotesLink}`;\n      }\n  },\n  // {\n  //     name: CoveoCustomTagNames.Examples,\n  //     type: CoveoCustomTagTypes.List,\n  //     func: (componentOptionExamples: string[]) => {\n  //         if (!componentOptionExamples) {\n  //             return \"\";\n  //         }\n  //         return ``;\n  //     }\n  // },\n  {\n      name: CoveoCustomTagNames.ExternalDocs,\n      type: CoveoCustomTagTypes.List,\n      func: (externalDocsLinks: string[]) => {\n          if (!externalDocsLinks) {\n              return \"\";\n          }\n          if (externalDocsLinks.length === 1) {\n              return `See ${externalDocsLinks[0]}.`\n          }\n          let externalDocsString = \"See:\";\n          externalDocsLinks.forEach((externalDocsLink) => {\n              externalDocsString += `\\n- ${externalDocsLink}`;\n          })\n          return externalDocsString;\n      }\n  },\n  {\n      name: CoveoCustomTagNames.IsResultTemplateComponent,\n      type: CoveoCustomTagTypes.Boolean,\n      func: (isResultTemplateComponent: boolean) => {\n          if (!isResultTemplateComponent) {\n              return \"\";\n          }\n          return \"This is a [result template](https://docs.coveo.com/en/413/) component.\";\n      }\n  },\n  {\n      name: CoveoCustomTagNames.Maximum,\n      type: CoveoCustomTagTypes.Scalar,\n      func: (maximumComponentOptionValue: number) => {\n          if (!maximumComponentOptionValue) {\n              return \"\";\n          }\n          return `**Maximum:** \\`${maximumComponentOptionValue}\\``;\n      }\n  },\n  {\n      name: CoveoCustomTagNames.Minimum,\n      type: CoveoCustomTagTypes.Scalar,\n      func: (minimumComponentOptionValue: number) => {\n          if (!minimumComponentOptionValue) {\n              return \"\";\n          }\n          return `**Minimum:** \\`${minimumComponentOptionValue}\\``;\n      }\n  },\n  // {\n  //     name: CoveoCustomTagNames.NotSupportedIn,\n  //     type: CoveoCustomTagTypes.List,\n  //     func: (notSupportedIn: string[]) => {\n  //         if (!notSupportedIn) {\n  //             return \"\";\n  //         }\n  //         return ``\n  //     }\n  // },\n  {\n      name: CoveoCustomTagNames.Required,\n      type: CoveoCustomTagTypes.Boolean,\n      func: (isComponentOptionRequired: boolean, result: Reflection) => {\n          if (!isComponentOptionRequired) {\n              return \"\";\n          }\n          const baseRequiredOptionString = \"Required option\"\n          if (result.parent.parent.coveorequired && result.parent.parent.coveorequired.match(`(${baseRequiredOptionString}: ).*`)) {\n              const firstRequiredOptionLink = result.parent.parent.coveorequired.replace(baseRequiredOptionString + ': ', \"\");\n              result.parent.parent.coveorequired = `${baseRequiredOptionString}s:\\n- ${firstRequiredOptionLink}\\n- [\\`${result.name}\\`]{@link ${result.parent.parent.name}.options.${result.name}}`\n          } else if (result.parent.parent.coveorequired && result.parent.parent.coveorequired.match(`(${baseRequiredOptionString}s).*`)) {\n              result.parent.parent.coveorequired += `\\n- [\\`${result.name}\\`]{@link ${result.parent.parent.name}.options.${result.name}}`\n          } else {\n              result.parent.parent.coveorequired = `${baseRequiredOptionString}: [\\`${result.name}\\`]{@link ${result.parent.parent.name}.options.${result.name}}`\n          }\n          return \"**Required**\";\n      }\n  }\n]"]}